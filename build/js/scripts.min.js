!function(o){o("#new-quote-btn").on("click",function(e){console.log("clicked"),e.preventDefault(),o.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(e){console.log(e[0]),o("#qod-quotes").html(e[0].content.rendered);let t="<span>- "+e[0].title.rendered+"</span>",u="<span>, "+e[0]._qod_quote_source+"</span>",r=`<a target='_blank' class='author-source' href=${e[0]._qod_quote_source_url} > ${e[0]._qod_quote_source}</a>`;e[0]._qod_quote_source_url&&e[0]._qod_quote_source?o("#author").html(t+r):!e[0]._qod_quote_source_url&&e[0]._qod_quote_source?o("#author").html(t+u):o("#author").html(t)})}),o("#quote-submission-form").on("submit",function(e){e.preventDefault();var t=o("#quote-author").val(),u=o("#quote").val(),r=o("#quote-location").val(),s=o("#quote-source").val();console.log(t),o.ajax({method:"post",url:qod_vars.rest_url+"wp/v2/posts/",data:{title:t,quote:u,_qod_quote_source:r,_qod_quote_source_url:s},beforeSend:function(o){o.setRequestHeader("X-WP-Nonce",qod_vars.wpapi_nonce)}}).done(function(){console.log(qod_vars.success+" is successful ")})})}(jQuery);